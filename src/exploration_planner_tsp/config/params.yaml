# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                    EXPLORATION PLANNER PARAMETERS                            ║
# ║                                                                              ║
# ║  Based on FUEL: Fast UAV Exploration using Incremental Frontier Structure   ║
# ║  and Hierarchical Planning (Zhou et al., 2021)                              ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# ═══════════════════════════════════════════════════════════════════════════════
# Node 1: Global Tour Planner (TSP Solver)
# ═══════════════════════════════════════════════════════════════════════════════
global_tour_planner:
  ros__parameters:
    v_max: 6.0              # [m/s] Maximum linear velocity
    yaw_rate_max: 2.0       # [rad/s] Maximum yaw rate
    w_consistency: 0.5      # Motion consistency weight [0.0 - 2.0]
    use_2opt: true          # Enable 2-opt local improvement
    replan_threshold: 2.0   # [m] Replan if moved more than this

# ═══════════════════════════════════════════════════════════════════════════════
# Node 2: Local Viewpoint Refiner
# ═══════════════════════════════════════════════════════════════════════════════
local_refiner:
  ros__parameters:
    refine_radius: 5.0      # [m] R_rf: radius for local refinement
    max_refine_clusters: 3  # N_rf: max clusters to refine
    v_max: 6.0
    yaw_rate_max: 1.0
    w_consistency: 0.5

# ═══════════════════════════════════════════════════════════════════════════════
# Node 3: Trajectory Generator
# ═══════════════════════════════════════════════════════════════════════════════
trajectory_generator:
  ros__parameters:
    v_max: 6.0              # [m/s] Max linear velocity
    a_max: 0.75              # [m/s²] Max linear acceleration
    yaw_rate_max: 1.0       # [rad/s] Max yaw rate
    yaw_accel_max: 0.5      # [rad/s²] Max yaw acceleration
    dt: 0.1                 # [s] Time step
    lookahead_time: 5.0     # [s] Maximum trajectory duration
    min_waypoint_dist: 0.3  # [m] Min distance between waypoints

# ═══════════════════════════════════════════════════════════════════════════════
# Node 4: Trajectory Follower
# ═══════════════════════════════════════════════════════════════════════════════
trajectory_follower:
  ros__parameters:
    control_rate: 20.0      # [Hz] Control loop frequency
    lookahead_dist: 0.5     # [m] Pure pursuit lookahead
    goal_tolerance_xy: 0.2  # [m] Position tolerance
    goal_tolerance_yaw: 0.1 # [rad] Yaw tolerance
    kp_xy: 1.0              # Position P gain
    kp_yaw: 1.0             # Yaw P gain
    kd_xy: 0.1              # Position D gain
    kd_yaw: 0.1             # Yaw D gain
    v_max: 6.0              # [m/s] Max velocity
    yaw_rate_max: 2.0       # [rad/s] Max yaw rate
    use_feedforward: true   # Use trajectory velocity feedforward
    ff_weight: 0.7          # Feedforward weight [0-1]